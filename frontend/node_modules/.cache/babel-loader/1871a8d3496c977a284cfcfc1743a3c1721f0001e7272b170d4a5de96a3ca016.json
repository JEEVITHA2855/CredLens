{"ast":null,"code":"import React,{useMemo,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MicroQuiz=_ref=>{let{suspiciousPhrases=[],metadata={},evidence=[],questionOverride=null}=_ref;const question=useMemo(()=>{if(questionOverride&&questionOverride.q&&Array.isArray(questionOverride.options)){return questionOverride;}const hasUrgency=suspiciousPhrases.some(p=>['urgent','act now','limited time','last chance','immediately'].includes((p.phrase||'').toLowerCase()));if(hasUrgency){return{q:'A post says “Act now! Limited time!” and asks for your OTP. What should you do?',options:['Reply with the OTP to avoid losing access','Ignore the message and verify through the official app/website'],a:1};}const hasClickbait=suspiciousPhrases.some(p=>['shocking','secret','you won\\'t believe','exposed','miracle'].includes((p.phrase||'').toLowerCase()));if(hasClickbait){return{q:'An article claims a “miracle cure.” What’s the best first step?',options:['Share quickly to help others','Check if reputable medical sources report the same claim'],a:1};}const noAuthor=metadata&&metadata.has_author===false;if(noAuthor){return{q:'The article has no author listed. Which action increases credibility?',options:['Accept it if it matches your beliefs','Look for an author or an official organizational byline'],a:1};}const noEvidence=!evidence||evidence.length===0||evidence.every(e=>!e.url);if(noEvidence){return{q:'The article provides no citations or links. What should you do?',options:['Trust the claim if it’s viral','Look for multiple, independent reputable sources'],a:1};}return{q:'No sources are linked in the article. What should you do?',options:['Assume it’s true if it sounds plausible','Check for citations or multiple independent sources'],a:1};},[suspiciousPhrases,metadata,evidence,questionOverride]);const[choice,setChoice]=useState(null);const[submitted,setSubmitted]=useState(false);const submit=()=>setSubmitted(true);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-amber-200 p-4 mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-amber-900 mb-2\",children:\"Quick Micro-Quiz\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-amber-900 mb-2\",children:question.q}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:question.options.map((opt,idx)=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 text-sm text-amber-800\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"microquiz\",checked:choice===idx,onChange:()=>setChoice(idx)}),/*#__PURE__*/_jsx(\"span\",{children:opt})]},idx))}),/*#__PURE__*/_jsx(\"button\",{onClick:submit,disabled:choice===null,className:\"mt-2 px-3 py-1.5 bg-amber-600 text-white rounded disabled:opacity-50\",children:\"Submit\"}),submitted&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm \".concat(choice===question.a?'text-green-700':'text-red-700'),children:choice===question.a?'Correct! Nice critical thinking.':'Not quite—look for official sources and avoid urgent requests.'})]});};export default MicroQuiz;","map":{"version":3,"names":["React","useMemo","useState","jsx","_jsx","jsxs","_jsxs","MicroQuiz","_ref","suspiciousPhrases","metadata","evidence","questionOverride","question","q","Array","isArray","options","hasUrgency","some","p","includes","phrase","toLowerCase","a","hasClickbait","noAuthor","has_author","noEvidence","length","every","e","url","choice","setChoice","submitted","setSubmitted","submit","className","children","map","opt","idx","type","name","checked","onChange","onClick","disabled","concat"],"sources":["E:/CredLens/frontend/src/components/MicroQuiz.js"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\n\r\nconst MicroQuiz = ({ suspiciousPhrases = [], metadata = {}, evidence = [], questionOverride = null }) => {\r\n  const question = useMemo(() => {\r\n    if (questionOverride && questionOverride.q && Array.isArray(questionOverride.options)) {\r\n      return questionOverride;\r\n    }\r\n    const hasUrgency = suspiciousPhrases.some(p => ['urgent','act now','limited time','last chance','immediately'].includes((p.phrase||'').toLowerCase()));\r\n    if (hasUrgency) {\r\n      return {\r\n        q: 'A post says “Act now! Limited time!” and asks for your OTP. What should you do?',\r\n        options: ['Reply with the OTP to avoid losing access', 'Ignore the message and verify through the official app/website'],\r\n        a: 1,\r\n      };\r\n    }\r\n    const hasClickbait = suspiciousPhrases.some(p => ['shocking','secret','you won\\'t believe','exposed','miracle'].includes((p.phrase||'').toLowerCase()));\r\n    if (hasClickbait) {\r\n      return {\r\n        q: 'An article claims a “miracle cure.” What’s the best first step?',\r\n        options: ['Share quickly to help others', 'Check if reputable medical sources report the same claim'],\r\n        a: 1,\r\n      };\r\n    }\r\n    const noAuthor = metadata && metadata.has_author === false;\r\n    if (noAuthor) {\r\n      return {\r\n        q: 'The article has no author listed. Which action increases credibility?',\r\n        options: ['Accept it if it matches your beliefs', 'Look for an author or an official organizational byline'],\r\n        a: 1,\r\n      };\r\n    }\r\n    const noEvidence = !evidence || evidence.length === 0 || evidence.every(e => !e.url);\r\n    if (noEvidence) {\r\n      return {\r\n        q: 'The article provides no citations or links. What should you do?',\r\n        options: ['Trust the claim if it’s viral', 'Look for multiple, independent reputable sources'],\r\n        a: 1,\r\n      };\r\n    }\r\n    return {\r\n      q: 'No sources are linked in the article. What should you do?',\r\n      options: ['Assume it’s true if it sounds plausible', 'Check for citations or multiple independent sources'],\r\n      a: 1,\r\n    };\r\n  }, [suspiciousPhrases, metadata, evidence, questionOverride]);\r\n\r\n  const [choice, setChoice] = useState(null);\r\n  const [submitted, setSubmitted] = useState(false);\r\n\r\n  const submit = () => setSubmitted(true);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border border-amber-200 p-4 mt-4\">\r\n      <h4 className=\"text-sm font-semibold text-amber-900 mb-2\">Quick Micro-Quiz</h4>\r\n      <p className=\"text-sm text-amber-900 mb-2\">{question.q}</p>\r\n      <div className=\"space-y-2\">\r\n        {question.options.map((opt, idx) => (\r\n          <label key={idx} className=\"flex items-center space-x-2 text-sm text-amber-800\">\r\n            <input type=\"radio\" name=\"microquiz\" checked={choice===idx} onChange={() => setChoice(idx)} />\r\n            <span>{opt}</span>\r\n          </label>\r\n        ))}\r\n      </div>\r\n      <button onClick={submit} disabled={choice===null} className=\"mt-2 px-3 py-1.5 bg-amber-600 text-white rounded disabled:opacity-50\">Submit</button>\r\n      {submitted && (\r\n        <div className={`mt-2 text-sm ${choice===question.a ? 'text-green-700' : 'text-red-700'}`}>\r\n          {choice===question.a ? 'Correct! Nice critical thinking.' : 'Not quite—look for official sources and avoid urgent requests.'}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MicroQuiz;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}